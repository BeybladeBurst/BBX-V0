<!DOCTYPE HTML>
<meta charset=UTF-8>
<meta name=viewport content='width=device-width,initial-scale=1,maximum-scale=1'>
<title>Beyblade X　爆旋陀螺 X　戰鬥陀螺 X</title>
<link href="index.css" rel="stylesheet">
<script src="common.js"></script>
<style>
    body>details {
        background: #555;
        margin:3em 0 0 0;
    }
    body>details summary {
        height:3em;line-height:3em;text-align:center;
    }
    article {
        text-align:center;font-size:.8em;
        margin:4em auto 0 auto;
    }
    details article h3 {
        font-size:1.5em;
    }
    article p,article li {
        text-align:justify;
        line-height:1.5;
    }
    article img {
        max-width:min(30em,100%);
    }
    article img+p {
        margin-top:.25em;
    }
    details article:last-child {
        padding-bottom:1em;
    }
    q::before {content:'「';}
    q::after {content:'」';}
    article a[href*='youtu']::before,article a[href*='twitter']::before  {content:'▶️ ';}

    div+small {display:block;text-align: right;margin-top:.5em;font-size:.7em;}
</style>
<input>
<div style='text-align:right;font-size:.9em;'>
    <a href=https://beyblade-burst.github.io>往 Beyblade Burst ▶️</a>
</div>

<header>
    <img src=https://beyblade.takaratomy.co.jp/25th/_image/logo1.png>
</header>

<section id="links">
    <h3>外部連結</h3>
    <menu>
        <li><a class=links href="https://beyblade.takaratomy.co.jp/beyblade-x/lineup/">🛍️</a><span>商品詳細</span></li>    
        <li><a class=links href="https://m.youtube.com/@BEYBLADEOfficialYouTube/videos">🎞️</a><span>影片頻道</span></li>    
        <li><a class=links href="https://beyblade.takaratomy.co.jp/anime/">📺</a><span>動畫資訊</span></li>    
        <li><a class=links href="https://beyblade.takaratomy.co.jp/#movie">📔</a><span>綜合消息</span></li>    
        <li><a class=links href="https://twitter.com/beyblade_info">🌏</a><span>𝕏<small>綜合</small></span></li>    
        <li><a class=links href="https://twitter.com/tbh_pr">🛠️</a><span>𝕏<small>開發</small></span></li>    
    </menu>    
    <div data-beys="13">
        <h4>陀螺實物</h4>
    </div>
</section>

<section id="products">
    <h3>最新商品</h3>
    <div></div>
</section>

<section id="parts">
    <h3>部件簡列</h3>
    <ul id="blade"><h4>BLADE</h4></ul>
    <ul id="ratchet"><h4>RATCHET</h4></ul>
    <ul id="bit"><h4>BIT<span>🔼有增高版<i>(H)</i><br>🔽有降低版<i>(L)</i></span></h4></ul>
</section>

<section id="regulation">
    <h3>對戰規則</h3>
    <a href=https://beyblade.takaratomy.co.jp/beyblade-x/_image/regulation.pdf>官方 Regulation</a><br>
    <a href=https://www.youtube.com/watch?v=Y6POuwEsur8?t=280>對戰實例</a>
    <article>
    <h4>陀螺改裝</h4>
    <p>禁止於部件接觸部分或陀螺與發射器接觸部分作塗裝或貼上貼紙，亦不能重疊地貼上貼紙，或作任何其他改變性能的塗裝。
    <p>若希望辨認自己的部件，可於例如以下地方以筆加上標記：</p>
    <img src="mark.png">
    <h4>預備對戰</h4>
    <p>若要選定於對戰盤左或右側發射，將會以如猜拳等公平方法決定。直到與對手分出勝負前都不能轉換位置。
    <p>對戰盤主要的陀螺活動範圍為「Battle Zone」，兩角的小出口為「Over Zone」，之間的大出口為「Xtreme Zone」。</p>
    <img src=https://beyblade.takaratomy.co.jp/beyblade-x/guide/_image/pict5.jpg>
    <h4>對戰得分</h4>
    <ul>
        <li>Xtreme Finish (XF)：陀螺從「Xtreme Zone」離開對戰盤並未有再返回。得 3 分。
        <li>Over Finish (OF)：陀螺掉入「Over Zone」並未有再返回對戰盤。得 2 分。
        <li>Burst Finish (BF)：陀螺任何部件脫落。得 2 分。
        <li>Spin Finish (SF)：陀螺原先迴轉方向的迴轉速度降至 0。得 1 分。
    </ul>
    <p>當任何一陀螺較早發生以上情況，對方就可得分。先取四分為勝。
    <p>若陀螺於發射口離開並未有返回，則需重賽。
    <h4>難解情況</h4>
    <p>若自己陀螺先停轉再被擊出，對方獲 SF 一分。
    <p>若自己陀螺先被擊爆再被擊出，對方獲 BF 兩分。
    <p>若自己陀螺先被從 Xtreme Zone 離開再因碰撞對戰盤爆裂，對方獲 XF 三分。
    <p>若自己陀螺被擊爆，反彈力令對方陀螺被擊出，對方獲 BF 兩分，因被擊爆時一刻對方陀螺仍未離開對戰盤。
    <p>若自己陀螺被擊至 Over Zone 但仍在轉動，然後對手陀螺於 Battle Zone 先停下，自己陀螺隨後亦停下，對方獲 OF 兩分。
    <p>若自己陀螺被擊至 Over Zone 但仍在轉動，然後對手陀螺於 Battle Zone 先停下，其後自己陀螺彈回對戰盤，自己獲 SF 一分。
    <p>XF 及 OF 發生後需要未有<ruby><rb>返回對戰盤</rb><rt>Reverse</rt></ruby>才成立，要等到確認未有返回，才以先發生的事件作得分。
        <br>若發生 Reverse 情況，XF 及 OF 事件將被取消。
    </article>
</section>

<section id="prizes">
    <h3>景品暫存區</h3>
    <span>未有內容</span>
</section>

<section id="points">
    <h3>積分系統</h3>
    <span>App 已開放下載，只限日本地區</span>
    <p><strong>貯積分．贏陀螺</strong></p>
    <article>
        <p>香港、台灣會有地區專屬 App，本年稍後時間開放下載。</p>
    </article>
</section>

<section id="others">
    <h3>其他</h3>
    <article>
        <img src="https://cdn.amebaowndme.com/madrid-prd/madrid-web/images/sites/1938843/511455b45d39a82ccda721798526ea1d_6ca57b3e1f4528134e0a12cde8b4c747.jpg?width=840">
        <h4><a href="https://www.roblabo.com/posts/45191458">Roblox Creator Contest</a></h4>
        <p>簡要：一個 Roblox 創作比賽。8 月 16 日前接受報名，需提供過去創作過的遊戲履歷。經挑選後入圍者於 8 月 21 日起以官方提供的 template 創作，到 10 月進行投票。</p>
    </article>
</section>

<details>
    <summary>剛剛入坑？</summary>
    <article>
        <h2>理念</h2>
        <img src="https://www.4gamer.net/games/999/G999905/20230517075/SS/005.jpg">
        <p>
            Beyblade——能改造的對戰專用陀螺——誕生 24 年後，步入第四世代。本代 Takara Tomy 致力把 Beyblade 包裝成全新形象：不只玩家本身樂在其中，觀眾亦會着迷的「Gear sports」。
            <ruby><rb>陀螺手<rt>Blader</ruby>需要進行
            <ruby><rb>發射<rt>Shoot</ruby>練習、透過改造能進行各種綿密設定的裝備而習得知識，而提升技量。第四世代 Beyblade X 就是為了令 Beyblade 朝向一項
            <ruby><rb>競技運動<rt>Sport</ruby>。
        </p>
        <img src=https://pbs.twimg.com/media/CkQbt4eUkAAfPG9.jpg:large><br>
        <q>你有做什麼運動的嗎？</q>
        <q>Beyblade。</q><br><br>
    </article>

    <article>
        <h3>特色</h3>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/guide/_image/pict4.jpg>
        <img src=https://takaratomymall.jp/img/goods/5/4904810910596_9aed4fdbed93420fb6e1d247916fa414.jpg>
        <p>Beyblade X 糅合過往世代特點：第一世代確立的改造性、第二世代金屬為主的碰撞及第三代的爆裂機能，加上新的 gimmick：
            陀螺下部的齒輪部分與對戰盤的齒條咬合，實現歷代最速的「<ruby><rb>X</rb><rt>Xtreme</rt></ruby> Dash」！（鼓勵平射）</p>
        <p>基於對戰盤的上下非對稱性，陀螺手需依自身站立的位置、攻防策略、陀螺迴轉方向考慮合適發射著陸點。</p>
    </article>

    <article>
        <h3>結構</h3>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/guide/_image/pict8.jpg>
        <ul style="list-style: revert;"><li>Blade：與對手直接接觸的主要部分<li>Ratchet：決定陀螺高度、重心平衡及 Blade 的撞擊位置。被對手撞擊時可能被爆裂<li>Bit：接地面，決定動態、Dash 性能及爆裂抵耐性</ul>
        <p>首個登場的 Ratchet 是 3-60：3 枚刃、60 dmm = 6 cm 高度</p>
        <img style='width:24%' src=https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/BX01_04@1.png>
        <img style='width:24%' src=https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/BX02_04@1.png>
        <img style='width:24%' src=https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/BX03_04@1.png>
        <img style='width:24%' src=https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/BX04_04@1.png>
        <p>基本四款 Bit 形狀：攻擊 F (Flat)、平衡 T (Taper)、持久 B (Ball)、防御 N (Needle)。球形與尖形角色對調。Bit 上的 Shaft（軸柱）愈粗，陀螺便愈難被爆裂。</p>
        <details>
        <summary>組裝步驟</summary>
        <img src=inst.png style='max-width:min(40em,100%)'>
        <ol style="list-style: revert;">
            <li>先確認 Ratchet 的白色部分（稱作 Ratchet cover）上三角形與＿枚刃的外環（稱作 Ratchet ring）上三角形對齊。右迴轉時使用近 R 的三角，左迴轉時使用近 L 的三角。
            <li>把 Ratchet cover 與 Blade 底相同形狀部分合上
            <li>扭動 Ratchet ring 至三角形對齊 L（左迴轉時）或 R（右迴轉時）
            <li>把 Bit 插入
        </ol>
    </article>

    <article>
        <h3>大會<small>（內容可能只適用於日本）</small></h3>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/event/_image/pict1.png>
        <p>前稱 G4 至 G1 等級的官方比賽改稱 G3 至 GP（Grand Prix、格蘭披治）級。除小學生的 Regular class 外，新增中學生 Senior class 及小學生以上、不限年齡的 Masters class。</p>
        <img src=https://pbs.twimg.com/media/FyGXxRuaYAAb6qH?format=jpg&name=large>
        <p>各款比賽勝利獎品。
        <p>B4（BeyBlade Battle Base）是官方的陀螺小組，前稱 wbba。</p>
    </article>

    <article>
        <h3>復刻</h3>
        <img src=https://hobby.dengeki.com/ss/hobby/uploads/2023/06/DTWcard_dbMLU8dV46qAxUCCYEv-7GCpskopHKva.jpg>
        <p>「<ruby><rb>X</rb><rt>Cross</rt></ruby> Over Project」：在未來數年，前三代的部分陀螺亦會以 X 代結構再次復剖。</p>
    </article>

    <article>
        <h3>紀錄</h3>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/app/_image/pict03.jpg>
        <p>一如 Burst 初期，設有專用 App，購買陀螺、參加大會等都有分數。</p>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/app/_image/pict04_pc.jpg>
        <p>分數可挑戰 Rare Bey Get Battle，有機會獲得陀螺獎品，再嘗 Burst 代當初無限輪迴滋味！首款獎品為 Cobalt Drake 4-60F。</p>
        <img src=https://beyblade.takaratomy.co.jp/beyblade-x/app/_image/pict06.png>
        <p>BeyBattle Pass 等同 Burst 的 Beylogger，測量發射力度及次數，換成分數。</p>
    </article>
</details>

<script>
Promise.all([
    new Promise((res, rej) => Object.assign(indexedDB.deleteDatabase('V6'), {onsuccess: res, onblocked: rej, onerror: rej})),
    caches.delete('V6'), caches.delete('parts'),
    navigator.serviceWorker.getRegistrations().then(sws => sws.forEach(sw => sw.unregister())),
    document.cookie.split(/;\s?/).forEach(c => document.cookie = c.replace(/=.*/, `=; max-age=0; path=/`))
]).catch(er => console.error(er));
   
Q('input').onkeypress = ev => {
    if ((ev.keyCode || ev.which) != 13) return;
    if (/^i#.+$/.test(ev.target.value))
        return location.href = `https://instagram.com/explore/tags/${/(?<=#).+/.exec(ev.target.value)}`;
    if (/^t\?.+$/.test(ev.target.value))
        return location.href = `https://twitter.com/search?q=${/(?<=\?).+/.exec(ev.target.value)}&f=live`;
    if (/^t#.+$/.test(ev.target.value))
        return location.href = `https://twitter.com/hashtag/${/(?<=#).+/.exec(ev.target.value)}/?f=live`;
    return location.href = `https://${ev.target.value}`;
}
</script>
<script>
const listProducts = beys => {
    let base = 'https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/';
    let colors = {
        Set: 'hsl(250,70%,70%)',
        Starter: 'hsl(200,70%,60%)',
        Random: 'hsl(0,0%,90%)',
        Booster: 'hsl(10,70%,60%)',
    };
    Object.entries(beys).reverse().forEach(([date, beys]) => {
        let figures = beys.map(b => E.figure({
            style: {
                borderColor: Object.entries(colors).find(([type, color]) => b.prod.includes(type))?.[1]
            },
            classList: b.type ?? '',
            imgs: new Date(date)-new Date() > 3600*1000*24*30 ? '' : (b.img ?? `${base}${b.code.replace('-', '')}@1.png`),
            caption: E.dl({
                [`${b.code}${b.prod ? ` ${b.prod}` : ''}`]: [b.eng ?? '', ...(b.desc ?? '').split('//')]
            }).outerHTML
        }));
        Q('#products div').append(E('time', {textContent: date}), ...figures);
    });
    Q('[data-beys] h4').after(...Q('[data-beys]').getAttribute('data-beys').split(',').map(b => E('a', {
        textContent: b = b.replace(/^(?!BX)/, 'BX-'),
        href: `https://www.youtube.com/results?search_query=${Object.values(beys).flat().find(({code}) => b == code)?.jap}+-yuki&sp=CAI%253D`,
        style: {
            background: `url(${base}${b.replace('-','')}_list.png) no-repeat left / contain, linear-gradient(to right,var(--theme) var(--stop),transparent var(--stop))`
        },
    })));
}
const listParts = parts => {
    let img = {
        tomy: id => `https://beyblade.takaratomy.co.jp/beyblade-x/lineup/_image/${id}@1.png`,
        twit: id => `https://pbs.twimg.com/media/${id}?format=png`
    };
    let sorter = {
        blade: ([_1, b], [_2, c]) => b.type > c.type ? 1 : b.type < c.type ? -1 : b.img < c.img ? 1 : -1,
        ratchet: ([r], [s]) => r > s ? 1 : -1,
        bit: ([s, b], [t, c]) => b.type > c.type ? 1 : b.type < c.type ? -1 : b > t ? 1 : -1,
    };
    ['blade', 'ratchet', 'bit'].forEach(comp => {
        Q(`#${comp}`).append(...Object.entries(parts[comp]).sort(sorter[comp]).map(([id, r]) => 
            E('li', {id, classList: `${(r.attr ?? []).join()} ${r.type ?? ''}`}, [
                E('h5', r.name ?? id),
                E('img', {src: img[/^BX/.test(r.img) ? 'tomy' : 'twit'](r.img)})
            ])
        ));
        Q(`#${comp} h4`).prepend(`[${Q(`#${comp}`).children.length - 1}] `);
    });
}

const waitImages = () =>
    Promise.all([...document.images].filter(img => !img.complete).map(img => new Promise(res => {
        img.onload = res;
        img.onerror = ev => res(ev.target.remove());
    })));

fetch('beys.json').then(resp => resp.json()).catch(() => beys).then(listProducts)
.then(() => fetch('parts.json')).then(resp => resp.json()).then(listParts)
.then(waitImages).catch(er => console.error(er));

const observer = new IntersectionObserver(entries => entries.forEach(entry => entry.target.parentElement.classList.toggle('seeing', entry.isIntersecting)));
Q('section h3+*', content => observer.observe(content));
</script>
